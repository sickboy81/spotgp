[
    {
        "id": "profiles_collection",
        "name": "profiles",
        "type": "base",
        "system": false,
        "schema": [
            {
                "system": false,
                "id": "profiles_user",
                "name": "user",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "cascadeDelete": true,
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "profiles_ad_id",
                "name": "ad_id",
                "type": "text",
                "required": false
            },
            {
                "system": false,
                "id": "profiles_display_name",
                "name": "display_name",
                "type": "text",
                "required": true
            },
            {
                "system": false,
                "id": "profiles_role",
                "name": "role",
                "type": "select",
                "options": {
                    "maxSelect": 1,
                    "values": [
                        "visitor",
                        "advertiser",
                        "super_admin"
                    ]
                }
            },
            {
                "system": false,
                "id": "profiles_category",
                "name": "category",
                "type": "select",
                "options": {
                    "maxSelect": 1,
                    "values": [
                        "Acompanhante",
                        "Massagista",
                        "Atendimento Online"
                    ]
                }
            },
            {
                "system": false,
                "id": "profiles_city",
                "name": "city",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_state",
                "name": "state",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_latitude",
                "name": "latitude",
                "type": "number"
            },
            {
                "system": false,
                "id": "profiles_longitude",
                "name": "longitude",
                "type": "number"
            },
            {
                "system": false,
                "id": "profiles_price",
                "name": "price",
                "type": "number"
            },
            {
                "system": false,
                "id": "profiles_age",
                "name": "age",
                "type": "number",
                "options": {
                    "noDecimal": true
                }
            },
            {
                "system": false,
                "id": "profiles_verified",
                "name": "verified",
                "type": "bool"
            },
            {
                "system": false,
                "id": "profiles_services",
                "name": "services",
                "type": "json"
            },
            {
                "system": false,
                "id": "profiles_paymentMethods",
                "name": "paymentMethods",
                "type": "json"
            },
            {
                "system": false,
                "id": "profiles_bio",
                "name": "bio",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_gender",
                "name": "gender",
                "type": "select",
                "options": {
                    "maxSelect": 1,
                    "values": [
                        "mulher",
                        "homem",
                        "trans"
                    ]
                }
            },
            {
                "system": false,
                "id": "profiles_videoCall",
                "name": "videoCall",
                "type": "bool"
            },
            {
                "system": false,
                "id": "profiles_hasPlace",
                "name": "hasPlace",
                "type": "bool"
            },
            {
                "system": false,
                "id": "profiles_neighborhood",
                "name": "neighborhood",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_phone",
                "name": "phone",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_whatsapp",
                "name": "whatsapp",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_hairColor",
                "name": "hairColor",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_bodyType",
                "name": "bodyType",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_ethnicity",
                "name": "ethnicity",
                "type": "text"
            },
            {
                "system": false,
                "id": "profiles_serviceLocations",
                "name": "serviceLocations",
                "type": "json"
            },
            {
                "system": false,
                "id": "profiles_serviceTo",
                "name": "serviceTo",
                "type": "json"
            }
        ],
        "listRule": "",
        "viewRule": "",
        "createRule": "@request.auth.id != ''",
        "updateRule": "id = @request.auth.id",
        "deleteRule": "id = @request.auth.id"
    },
    {
        "id": "media_collection",
        "name": "media",
        "type": "base",
        "schema": [
            {
                "system": false,
                "id": "media_profile",
                "name": "profile_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "profiles_collection",
                    "cascadeDelete": true,
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "media_file",
                "name": "file",
                "type": "file",
                "required": true,
                "options": {
                    "maxSelect": 1,
                    "maxSize": 10485760,
                    "mimeTypes": [
                        "image/jpeg",
                        "image/png",
                        "image/webp",
                        "video/mp4"
                    ]
                }
            },
            {
                "system": false,
                "id": "media_type",
                "name": "type",
                "type": "select",
                "options": {
                    "maxSelect": 1,
                    "values": [
                        "image",
                        "video"
                    ]
                }
            },
            {
                "system": false,
                "id": "media_url",
                "name": "url",
                "type": "text"
            }
        ],
        "listRule": "",
        "viewRule": "",
        "createRule": "@request.auth.id != ''",
        "updateRule": "@request.auth.id != ''",
        "deleteRule": "@request.auth.id != ''"
    },
    {
        "id": "conversations_collection",
        "name": "conversations",
        "type": "base",
        "schema": [
            {
                "system": false,
                "id": "conversations_p1",
                "name": "participant1_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "conversations_p2",
                "name": "participant2_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "conversations_last_msg",
                "name": "last_message_at",
                "type": "date"
            }
        ],
        "listRule": "@request.auth.id = participant1_id || @request.auth.id = participant2_id",
        "viewRule": "@request.auth.id = participant1_id || @request.auth.id = participant2_id",
        "createRule": "@request.auth.id != ''",
        "updateRule": "@request.auth.id = participant1_id || @request.auth.id = participant2_id",
        "deleteRule": null
    },
    {
        "id": "messages_collection",
        "name": "messages",
        "type": "base",
        "schema": [
            {
                "system": false,
                "id": "messages_conv",
                "name": "conversation_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "conversations_collection",
                    "cascadeDelete": true,
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "messages_sender",
                "name": "sender_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "messages_content",
                "name": "content",
                "type": "text",
                "required": true
            },
            {
                "system": false,
                "id": "messages_read",
                "name": "is_read",
                "type": "bool"
            }
        ],
        "listRule": "conversation_id.participant1_id = @request.auth.id || conversation_id.participant2_id = @request.auth.id",
        "viewRule": "conversation_id.participant1_id = @request.auth.id || conversation_id.participant2_id = @request.auth.id",
        "createRule": "@request.auth.id = sender_id",
        "updateRule": "@request.auth.id = sender_id",
        "deleteRule": null
    },
    {
        "id": "notifications_collection",
        "name": "notifications",
        "type": "base",
        "schema": [
            {
                "system": false,
                "id": "notifications_user",
                "name": "user_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "cascadeDelete": true,
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "notifications_type",
                "name": "type",
                "type": "text"
            },
            {
                "system": false,
                "id": "notifications_title",
                "name": "title",
                "type": "text"
            },
            {
                "system": false,
                "id": "notifications_message",
                "name": "message",
                "type": "text"
            },
            {
                "system": false,
                "id": "notifications_read",
                "name": "read",
                "type": "bool"
            }
        ],
        "listRule": "@request.auth.id = user_id",
        "viewRule": "@request.auth.id = user_id",
        "createRule": "@request.auth.id != ''",
        "updateRule": "@request.auth.id = user_id",
        "deleteRule": "@request.auth.id = user_id"
    },
    {
        "id": "verification_documents_collection",
        "name": "verification_documents",
        "type": "base",
        "schema": [
            {
                "system": false,
                "id": "verification_user",
                "name": "user_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "_pb_users_auth_",
                    "cascadeDelete": true,
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "verification_front",
                "name": "document_front",
                "type": "file",
                "options": {
                    "maxSelect": 1,
                    "maxSize": 5242880,
                    "mimeTypes": [
                        "image/jpeg",
                        "image/png",
                        "image/webp"
                    ],
                    "protected": true
                }
            },
            {
                "system": false,
                "id": "verification_back",
                "name": "document_back",
                "type": "file",
                "options": {
                    "maxSelect": 1,
                    "maxSize": 5242880,
                    "mimeTypes": [
                        "image/jpeg",
                        "image/png",
                        "image/webp"
                    ],
                    "protected": true
                }
            },
            {
                "system": false,
                "id": "verification_status",
                "name": "status",
                "type": "select",
                "options": {
                    "maxSelect": 1,
                    "values": [
                        "pending",
                        "approved",
                        "rejected"
                    ]
                }
            },
            {
                "system": false,
                "id": "verification_notes",
                "name": "notes",
                "type": "text"
            }
        ],
        "listRule": "@request.auth.id = user_id",
        "viewRule": "@request.auth.id = user_id",
        "createRule": "@request.auth.id = user_id",
        "updateRule": "@request.auth.role = 'super_admin'",
        "deleteRule": "@request.auth.role = 'super_admin'"
    },
    {
        "id": "views_collection",
        "name": "views",
        "type": "base",
        "schema": [
            {
                "system": false,
                "id": "views_profile",
                "name": "profile_id",
                "type": "relation",
                "required": true,
                "options": {
                    "collectionId": "profiles_collection",
                    "cascadeDelete": true,
                    "maxSelect": 1
                }
            },
            {
                "system": false,
                "id": "views_ip",
                "name": "viewer_ip",
                "type": "text"
            }
        ],
        "listRule": "",
        "viewRule": "",
        "createRule": "",
        "updateRule": null,
        "deleteRule": null
    }
]